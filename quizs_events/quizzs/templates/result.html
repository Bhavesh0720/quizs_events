{% extends 'home.html' %}
{% block content %}

    <h1 class="text-3xl font-bold mb-4 text-center">Result</h1>

    <div class="bg-white shadow p-6 rounded-lg mb-6 text-center">
        <p class="text-xl font-semibold">Quiz: {{ submission.quiz.title }}</p>
        <p class="text-xl font-semibold">Name: {{ submission.user_name }}</p>
        <p class="text-2xl font-bold text-green-600 mt-2">
            Score: {{ submission.score }}/ 5
        </p>
    </div>

    <h2 class="text-2xl font-bold mb-4">Your Answers</h2>

    <div class="space-y-4">
        {% for res in results %}
        <div class="p-4 bg-gray-100 rounded shadow">
            <p class="font-bold">{{ forloop.counter }}. {{ res.question.text }}</p>

            <p>Your Answer(s): 
                {% for ua in res.user_answers %}
                    {{ ua.text }}{% if not forloop.last %},{% endif %}
                {% endfor %}
            </p>

            {% if res.is_correct %}
                <p class="text-green-600 font-semibold">✅ Correct</p>
            {% else %}
                <p class="text-red-600 font-semibold">❌ Incorrect</p>

                <p class="text-blue-600">
                    Correct Answer:
                    {% for ca in res.correct_answers %}
                        {{ ca }}{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </p>
            {% endif %}
        
        </div>
        {% endfor %}
    </div>

{% endblock %}
